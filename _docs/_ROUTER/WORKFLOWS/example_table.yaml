# Example Custom Workflow: Table
# Demonstrates: sample_prompts, conditions, $AUTO_* params, multilingual support

name: table_workflow
description: Creates a simple table with four legs and beveled edges
category: furniture
author: blender-ai-mcp
version: "2.0.0"

trigger_pattern: table_like
trigger_keywords:
  - table
  - desk
  - surface
  - workbench

# Semantic matching - LaBSE supports 109 languages
sample_prompts:
  # English variations
  - "create a table"
  - "make a wooden table"
  - "model a desk"
  - "build a dining table"
  - "design a work surface"

  # Polish
  - "zrob stol"
  - "stworz biurko"

  # German
  - "erstelle einen Tisch"
  - "baue einen Schreibtisch"

  # French
  - "creer une table"

  # Spanish
  - "crear una mesa"

steps:
  # === TABLE TOP ===
  - tool: modeling_create_primitive
    params:
      type: CUBE
    description: Create base cube for table top

  - tool: modeling_transform_object
    params:
      scale: [1.2, 0.8, 0.05]
      location: [0, 0, 0.75]
    description: Scale and position table top

  # Bevel table top edges (with conditions)
  - tool: system_set_mode
    params:
      mode: EDIT
    description: Enter edit mode
    condition: "current_mode != 'EDIT'"

  - tool: mesh_select
    params:
      action: all
    description: Select all geometry
    condition: "not has_selection"

  - tool: mesh_bevel
    params:
      width: "$AUTO_BEVEL"
      segments: 2
    description: Bevel table top edges

  - tool: system_set_mode
    params:
      mode: OBJECT
    description: Return to object mode
    condition: "current_mode != 'OBJECT'"

  # === LEGS ===
  # Front-right leg
  - tool: modeling_create_primitive
    params:
      type: CUBE
    description: Create front-right leg

  - tool: modeling_transform_object
    params:
      scale: [0.05, 0.05, 0.75]
      location: [0.55, 0.35, 0.375]
    description: Scale and position front-right leg

  # Front-left leg
  - tool: modeling_create_primitive
    params:
      type: CUBE
    description: Create front-left leg

  - tool: modeling_transform_object
    params:
      scale: [0.05, 0.05, 0.75]
      location: [-0.55, 0.35, 0.375]
    description: Scale and position front-left leg

  # Back-right leg
  - tool: modeling_create_primitive
    params:
      type: CUBE
    description: Create back-right leg

  - tool: modeling_transform_object
    params:
      scale: [0.05, 0.05, 0.75]
      location: [0.55, -0.35, 0.375]
    description: Scale and position back-right leg

  # Back-left leg
  - tool: modeling_create_primitive
    params:
      type: CUBE
    description: Create back-left leg

  - tool: modeling_transform_object
    params:
      scale: [0.05, 0.05, 0.75]
      location: [-0.55, -0.35, 0.375]
    description: Scale and position back-left leg

  # === FINALIZE ===
  - tool: modeling_join_objects
    params: {}
    description: Join all parts into single object
